版本: 1029
作者: chihwen
日期: 2013年5月16日 下午 10:12:30
訊息:
避免客戶端快取，更新 CSS 及 JS 引入檔的版本號 (?v=1026)

1. 避免客戶端快取，更新 CSS 及 JS 引入檔的版本號 (?v=1026)
2. 同步 src 版本 1027 (注意1027尚未完全同步完成)。
issue 6367
----
異動 : /fakeapi/channel-add.html
異動 : /fakeapi/channel-setting.html
異動 : /fakeapi/epcurate-curation.html
異動 : /fakeapi/epcurate-publish.html
異動 : /fakeapi/episode-list.html
異動 : /fakeapi/index.html
異動 : /fakeapi/login.html
異動 : /fakeapi/signin.html
異動 : /fakeapi/stylesheets/lightbox.css
異動 : /fakeapi/stylesheets/style.css

版本: 1026
作者: chihwen
日期: 2013年5月16日 下午 04:01:14
訊息:
完成 Sub-ep Hyper Link POI API 串接

1. 完成 Sub-ep Hyper Link POI API 串接。
2. 同步 src 版本 1015~1017,1019,1022,1024,1025 (注意1019~1025尚未完全同步完成)。
3. 因應新版 POI 結構及行為，重新命名結構及腳本，以符合新版 POI 語意。
4. 移除已過時的 POI 結構及腳本。
5. 調整 fakeapi 以模擬新版 POI API 操作邏輯。
   1. 依型態切換 poiPointId 及 poiEventId 以便鎖定資料作模擬。
   2. 修正 JSON 字串格式，以便可正確解析為 JSON 物件。
   3. 加入特殊指定序號資料，以便模擬不同型態的 POI 新增及切換。
6. 調整 basic.js 中的 showProcessingOverlay 處理中，
   與 showSavingOverlay 儲存中的 overlay z-index 設定，避免被 POI event overlay 檔住。
7. 調整 config.js 重新設計 POI_TYPE_MAP 結構，以整合 API 代碼及 plugin 型態名稱。
8. 調整 controller.js 匯入影片連結提示文案，改用 placeholder 屬性實現。
9. 調整 controller.js 改良 poi_campaign 的資料結構檢查。
10. 加入 Sub-ep POI Scheduled 及 Instant 多國語系設定。
issue 6367
----
異動 : /fakeapi/epcurate-curation.html
異動 : /fakeapi/fakeapi/channels_poi_points.php
異動 : /fakeapi/fakeapi/poi_events.php
異動 : /fakeapi/fakeapi/poi_points.php
異動 : /fakeapi/fakeapi/programs_poi_points.php
異動 : /fakeapi/fakeapi/users_poi_events.php
異動 : /fakeapi/images/bg_mobile.png
異動 : /fakeapi/images/btn_gray.png
異動 : /fakeapi/images/btns.png
已加入 : /fakeapi/images/icon-add.png
已加入 : /fakeapi/images/icon-minus.png
已加入 : /fakeapi/images/icon_info.png
異動 : /fakeapi/images/icon_nav.png
異動 : /fakeapi/javascripts/basic.js
異動 : /fakeapi/javascripts/config.js
異動 : /fakeapi/javascripts/controller.js
異動 : /fakeapi/javascripts/curation.js
異動 : /fakeapi/lang/en.json
異動 : /fakeapi/lang/zh.json
異動 : /fakeapi/stylesheets/channel.css
異動 : /fakeapi/stylesheets/lightbox.css
異動 : /fakeapi/stylesheets/style.css
異動 : /fakeapi/thumbnail/list1.png

版本: 1014
作者: chihwen
日期: 2013年5月15日 上午 12:40:03
訊息:
補強 Sub-ep Hyper Link POI 未儲存提示，並重構其相關 POI 操作行為及結構

1. 將 video 往上讓出 2.5rem 給 POI 外掛的樣式改由 CSS 控制。
2. 調整 DOM 結構，將 poi-event-overlay-tmpl 結構集中移到 POI template 區。
3. 調整 POI video id 識別，以便腳本切換串接 (event-hyper-video, event-scheduled-video, event-instant-video)。
4. 微調 POI 腳本，加入註解識別。
5. 微調 POI 腳本，將 POI crumb root unblock 上移到 Cancel 區，以便集中類似的操作邏輯。
6. 調整 POI type 選擇邏輯，加入 has change Hook，以及影音播放 hook。
7. 調整 config.js 加入 POI_TYPE_MAP 對應表。
8. 微調字卡背景色區塊位置，以遮掩因為 btns.png 最底下加圖所影響，而誤露出的其他背景圖片。
9. 調整 basic.js 變更 showUnsavePoiMask() 讓 POI event overlay 與 POI unsave overlay 只能出現一個，不能 overlay 疊 overlay。
10. 調整 epcurate-curation.html 加入 unsave-poi-mask-prompt 作為跳出 POI event overlay 時的 unsave 提示結構 (No 改為 Back)。
11. 調整 epcurate-curation.html 移除 <div class="poi-mask"></div> 結構。
12. 修補 curation.js 當按下 Esc 時，偵測是否有 POI event overlay 或 POI unsave overlay 以進行 cancel 或 close 流程。
13. 調整 curation.js 將 POI unsave overlay 視有無出現 POI event overlay 結構，拆解成 2 種提示結構及行為。
14. 調整 curation.js 視 POI 是否為編輯模式，新增及移除相關 edit hook，以便供程式判斷現行模式之用。
15. 調整 curation.js 新增 playPoiAndVideo() 函式，可依所選型態播放對應的 POI 外掛，以及定格影音。
16. 調整 curation.js 修正 Cancel 時，Mobile iOS 以及 Android 預覽介面會消失的問題。
17. 調整 curation.js 修正 Mobile iOS 以及 Android 即時訊息入稿不同步的錯誤。
18. 調整 curation.js 當通過 chkPoiData() 檢查後，就強制暫停影音，避免與 POI event overlay 上的影音重覆播放。
19. 調整 curation.js 補強 loadYouTubeFlash() 確保不會重覆播放，一律先清除 POI event overlay 上的影音結構。
20. 新增 from-poi-overlay-edit-mode 給 POI event overlay 上的影音識別使用，避免與其他 hook 衝突。
21. 依新 POI 規格，調整 POI 資料結構。
issue 6367
----
異動 : /fakeapi/epcurate-curation.html
異動 : /fakeapi/javascripts/basic.js
異動 : /fakeapi/javascripts/config.js
異動 : /fakeapi/javascripts/curation.js
異動 : /fakeapi/lang/en.json
異動 : /fakeapi/lang/zh.json
異動 : /fakeapi/stylesheets/ep-curation.css
異動 : /fakeapi/stylesheets/lightbox.css

版本: 1009
作者: chihwen
日期: 2013年5月13日 下午 02:43:15
訊息:
完成 Sub-ep Hyper Link POI 多國語系切換以及未儲存提示雛型

1. 完成 Sub-ep Hyper Link POI 多國語系切換以及未儲存提示雛型。
2. 修正 has-trimtime-change 但進入 poi-list 未先提示儲存的錯誤。
3. 由於取得 YouTube 資訊的作法已改為 jsonp，所有來自 YouTube 的回應皆為 200，
   所有 400, 401, 403, 404 錯誤應由 callback 函式自行判斷處理，
   所以移除 nn.on([400, 401, 403, 404] 的錯誤攔截處理方式。
4. 由於 POI 刪除已移到 POI 列表頁，所以移動 POI 刪除處理的腳本區塊位置。
5. 由於 POI 表單結構已有異動，移除已用不到的腳本行為及 DOM 結構。
6. 將 POI event overlay 相關 DOM 改為 template 以便切換語系及置換資料 (poi-event-overlay-tmpl)。
7. 新增 buildPoiEventOverlayTmpl() 建立 POI event overlay template 雛型。
8. 將 POI event overlay 相關腳本，改用 on 註冊事件。
9. 將 POI event overlay 特殊特效腳本，改移到 template 產生後再套用。
10. 調整 basic.js 針對 overlay 上的未儲存提示 overlay 新增 showUnsavePoiMask() 作處理。
11. 在 DOM 結構上，先標記待 TODO 移除的結構。
issue 6367
----
異動 : /fakeapi/epcurate-curation.html
異動 : /fakeapi/javascripts/basic.js
異動 : /fakeapi/javascripts/curation.js
異動 : /fakeapi/lang/en.json
異動 : /fakeapi/lang/zh.json

版本: 1008
作者: chihwen
日期: 2013年5月11日 下午 09:47:29
訊息:
完成初步 Sub-ep POI 靜態修版整合

同步 src 版本 975,981,983,984,987,989~993,995~998,1001~1003

除了上述同步之外的調整如下：
1. 移除 poi-hide.css 樣式。
2. 調整 config.js 新增 CAMPAIGN_ID 設定。
3. 調整 config.js 加入 9x9 SDK 初始化、除錯等級、基本錯誤處理等套用 (從 controller.js 移入)。
4. 調整 controller.js 移除 Facebook SDK 除錯模式引入，以避免出現 JS 錯誤。
5. 調整 controller.js 加入新 POI API 路徑，以取得 POI list 清單資料。
6. 調整 controller.js 新增 setupUserCampaignId() 函式，以取得使用者 cpmpaign id (進入 epcurate-curation.html 時)。
7. 調整 controller.js 微調 footer 語系替換邏輯。
8. 調整 curation.js 當 Esc 或刪除確認在解開 UI mask 時，確保移除 DOM 中的 POI 刪除記號。
9. 調整 curation.js 移除已用不到的 YouTube tab 切換。
10. 調整 curation.js 調整取得單一 POI point 資訊 API 路徑。
11. 調整 curation.js 因應新版 POI 刪除異動，調整 POI 刪除邏輯。
12. 調整 curation.js 修改單一 POI point 儲存 API 路徑及邏輯。
13. 調整 curation.js 因應 9x9 SDK 改良，調整 program video 多筆刪除 API 路徑及參數帶法。
issue 6367
----
異動 : /fakeapi/epcurate-curation.html
異動 : /fakeapi/images/bg_calander.png
異動 : /fakeapi/images/bg_calander_highlight.png
已加入 : /fakeapi/images/bg_mask.png
已加入 : /fakeapi/images/bg_mobile.png
已加入 : /fakeapi/images/bg_popup_box_l.png
已加入 : /fakeapi/images/input_gray_lg.png
已加入 : /fakeapi/images/poi_type.png
異動 : /fakeapi/javascripts/config.js
異動 : /fakeapi/javascripts/controller.js
異動 : /fakeapi/javascripts/curation.js
已加入 : /fakeapi/javascripts/jquery.datepick.js
已加入 : /fakeapi/javascripts/perfect-scrollbar.js
異動 : /fakeapi/lang/en.json
異動 : /fakeapi/lang/zh.json
異動 : /fakeapi/stylesheets/channel.css
異動 : /fakeapi/stylesheets/ep-curation.css
異動 : /fakeapi/stylesheets/epcurate.css
異動 : /fakeapi/stylesheets/jquery.datepick.css
異動 : /fakeapi/stylesheets/lightbox.css
已加入 : /fakeapi/stylesheets/perfect-scrollbar.css
異動 : /fakeapi/stylesheets/style.css

版本: 1007
作者: chihwen
日期: 2013年5月11日 下午 09:24:19
訊息:
同步更新 9x9 JS SDK 函式庫 2013-05-09 v0.0.6

1. 推薦使用 nn.init() 取代舊 nn.initialize() 以簡化呼叫名稱。
2. 改良 init() 函式，自動偵測 jQuery 有無存在，若無則自動載入相依元件。
3. 新增 nn.load() 方法，用以動態載入 JS 及 CSS 檔，並可在載入後指定回呼函式。
4. 避開 gdata.youtube.com 才支持跨域發送 cookies (withCredentials: true or false)。
5. nn.api 針對 DELETE 方法，完成 workaound 相容設計。
issue 6367
----
異動 : /fakeapi/javascripts/nn-sdk.js

版本: 1006
作者: chihwen
日期: 2013年5月11日 下午 09:18:17
訊息:
當 Esc 或刪除確認在解開 UI mask 時，確保移除 DOM 中的刪除記號
issue 6367
----
異動 : /fakeapi/javascripts/channel.js
異動 : /fakeapi/javascripts/episode.js

版本: 1005
作者: chihwen
日期: 2013年5月11日 下午 09:05:07
訊息:
交換 overlay 按鈕位置，讓主操作按鈕在最右邊
issue 6367
----
異動 : /fakeapi/channel-add.html
異動 : /fakeapi/channel-setting.html
異動 : /fakeapi/epcurate-publish.html
異動 : /fakeapi/episode-list.html
異動 : /fakeapi/index.html

版本: 982
作者: chihwen
日期: 2013年5月6日 下午 01:31:40
訊息:
依 New POI API 規格試作 fakeapi 雛型

9x9 CMS API Reference - 4.0 POI
https://docs.google.com/spreadsheet/ccc?key=0AvdPy8_8kin6dDR2ejE2QVNKLVd4U3ZqdmdLRUQ3RXc#gid=3
/api/users/{userId}/poi_campaigns
/api/users/{userId}/poi_events
/api/channels/{channelId}/poi_points
/api/programs/{programId}/poi_points
/api/poi_campaigns/{poiCampaignId}/pois
/api/poi_points/{poiPointId}
/api/poi_events/{poiEventId}

New POI 結構
https://docs.google.com/spreadsheet/ccc?key=0AvdPy8_8kin6dDR2ejE2QVNKLVd4U3ZqdmdLRUQ3RXc#gid=1
poi_campaign
poi
poi_point
poi_event
issue 6367
----
已加入 : /fakeapi/fakeapi/channels_poi_points.php
已加入 : /fakeapi/fakeapi/poi_campaigns_pois.php
已加入 : /fakeapi/fakeapi/poi_events.php
已加入 : /fakeapi/fakeapi/poi_points.php
已刪除 : /fakeapi/fakeapi/pois.php
已加入 : /fakeapi/fakeapi/programs_poi_points.php
已刪除 : /fakeapi/fakeapi/programs_pois.php
已加入 : /fakeapi/fakeapi/users_poi_campaigns.php
已加入 : /fakeapi/fakeapi/users_poi_events.php
異動 : /fakeapi/javascripts/config.js
