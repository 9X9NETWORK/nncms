
function scrollbar(outer,inner,sliderwrap){var difference=$(inner).height()-$(outer).height();if(difference>0){$(sliderwrap).show();var proportion=difference/$(inner).height();var iRange=parseInt($(inner).height()/$(outer).height(),10)*8;if(iRange<100){iRange=100;}
CMS_CONF.SLIDER_MAX=iRange;var handleHeight=Math.round((1-proportion)*$(outer).height());handleHeight-=handleHeight%2;$(sliderwrap+' .slider-vertical').slider({orientation:'vertical',min:0,max:iRange,value:iRange,slide:function(event,ui){var topValue=-((iRange-ui.value)*difference/iRange);$(inner).css({top:topValue});},change:function(event,ui){var topValue=-((iRange-ui.value)*difference/iRange);$(inner).css({top:topValue});}});$(sliderwrap+' .ui-slider-handle').css({height:handleHeight,'margin-bottom':-0.5*handleHeight});var origSliderHeight=$(sliderwrap).attr('data-orig-slider-height');if(!origSliderHeight){origSliderHeight=$(sliderwrap+' .slider-vertical').height();$(sliderwrap).attr('data-orig-slider-height',origSliderHeight);}
var sliderHeight=origSliderHeight-handleHeight;var sliderMargin=(origSliderHeight-sliderHeight)*0.5;$(sliderwrap+' .ui-slider').css({height:sliderHeight,'margin-top':sliderMargin});}else{$(sliderwrap).hide();}
$(sliderwrap+' .ui-slider').unbind('click');$(sliderwrap+' .ui-slider').click(function(event){event.stopPropagation();});$(outer+', '+sliderwrap+' .slider-wrap').unbind('mousewheel');$(outer+', '+sliderwrap+' .slider-wrap').mousewheel(function(event,delta){var speed=2;var sliderVal=$(sliderwrap+' .slider-vertical').slider('value');sliderVal+=(delta*speed);$(sliderwrap+' .slider-vertical').slider('value',sliderVal);event.preventDefault();});}